spring.application.name=lab04
server.port=8082

spring.datasource.url=jdbc:postgresql://localhost:5433/studentdb
spring.datasource.username=postgres
spring.datasource.password=1234
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

spring.jpa.hibernate.ddl-auto=validate
#spring.jpa.hibernate.ddl-auto=update

spring.jpa.show-sql=true

spring.sql.init.mode=always

app.jwt.secret=B3q+MbU6E8XN2jF0gU8vP4A6q8z/C*F-J@NcRfUjWnZr4u7w!z%C&G+KbPeSgVkY
app.jwt.expiration-ms=86400000

management.endpoints.web.exposure.include=health,info,metrics

spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=user
spring.rabbitmq.password=password

spring.rabbitmq.listener.simple.retry.enabled=true
spring.rabbitmq.listener.simple.retry.initial-interval=1000ms
spring.rabbitmq.listener.simple.retry.max-attempts=3
spring.rabbitmq.listener.simple.retry.max-interval=10000ms
spring.rabbitmq.listener.simple.retry.multiplier=2
spring.rabbitmq.listener.simple.default-requeue-rejected=false
#
#spring.servlet.multipart.enabled=true
#spring.servlet.multipart.max-file-size=10MB
#spring.servlet.multipart.max-request-size=10MB

# --- Resilience4j Configuration ---

# Retry: Try 3 times, wait 1s between attempts
resilience4j.retry.instances.matchingService.max-attempts=3
resilience4j.retry.instances.matchingService.wait-duration=1s

# TimeLimiter: Timeout if it takes longer than 2 seconds
resilience4j.timelimiter.instances.matchingService.timeout-duration=2s
resilience4j.timelimiter.instances.matchingService.cancel-running-future=true

# CircuitBreaker: Open if 50% of requests fail
resilience4j.circuitbreaker.instances.matchingService.failure-rate-threshold=50
resilience4j.circuitbreaker.instances.matchingService.minimum-number-of-calls=5
resilience4j.circuitbreaker.instances.matchingService.sliding-window-size=10

logging.level.org.springframework.security=DEBUG